# Payment Gateway - Frontend (Next.js)

This is the frontend developed with Next.js, part of the Payment Gateway Project.

## About the project

The Payment Gateway is a distributed system composed of:
- Frontend whit Next.js (this repository)
- API Gateway with Go
- Antifraud system Nest.js
- Apache Kafka for async communication

## Application architecture
[View the complete architecture here](https://link.excalidraw.com/readonly/Nrz6WjyTrn7IY8ZkrZHy)

## Prerequisites

- [Docker](https://www.docker.com/get-started)

## Important!

⚠️ **You need to run the go-gateway-api service first** before this project, as this frontend uses the Docker network created by go-gateway.

## Setup

1. Clone the repository:
```bash
git clone https://github.com/romeolacerda/payment-gateway
cd payment-gateway/gateway-fe
```

2. Check if the go-gateway service is already running

3. Start services with Docker Compose:
```bash
docker-compose up -d
```

4. Run the application inside the container:
```bash
docker-compose exec nextjs bash
npm run dev
```

The frontend will be running on `http://localhost:3000`.

## Features

### Auth
- Login via API Key generated by the Gateway system
- Route protection via middleware

### Invoice Management
- List of all invoices
- Detailed view of a specific invoice
- Creation of new invoices (payment processing)
- View status (approved, pending, rejected)

## User Interface

The frontend has 4 main screens:

1. **Login** - Enter the API Key for authentication
2. **Invoice List** - Overview of all transactions
3. **Invoice Details** - Full details of a transaction
4. **Create Invoice** - Form for processing a new payment

All screens include a top navigation bar that displays "Full Cycle Gateway" and a logout button.

## Integration with API Gateway

The frontend communicates with API Gateway to:
- Authenticate users
- Create and list invoices
- Query invoice details
- Update data via tag revalidation

## Business Rules

- Transactions over R$10,000 are automatically sent for analysis and have a "pending" status
- Smaller transactions are processed immediately
- The interface shows color-coded statuses: green (approved), yellow (pending), red (rejected)

## Development

For local development, you can edit the files locally - they are mounted as a volume in the Docker container, which automatically updates the changes.

## Technologies Used

- Next.js 15 with App Router
- Tailwind CSS for styling
- TypeScript for static typing
- Server Components and Server Actions
- Shadcn UI for components

The project follows the best React and Next.js development practices, using Server Components when possible and Client Components when necessary for interactivity.